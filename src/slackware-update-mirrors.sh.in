#!/bin/sh

mkdir -p /pub/linux/slackware/ || exit 1

SLACK_MIRROR="mirrors1.kernel.org::slackware"
RSYNC_FLAGS="-a --delete --exclude source"

#SUBDIRS=("${SUBDIRS[@]}" "slackware-13.37")
#SUBDIRS=("${SUBDIRS[@]}" "slackware64-13.37")
#SUBDIRS=("${SUBDIRS[@]}" "slackware64-14.0")
SUBDIRS=("${SUBDIRS[@]}" "slackware-current")
SUBDIRS=("${SUBDIRS[@]}" "slackware64-current")

for SUBDIR in ${SUBDIRS[@]}; do
   echo "${SLACK_MIRROR}/${SUBDIR}/ ..."
   rsync ${RSYNC_FLAGS} ${@} \
      ${SLACK_MIRROR}/${SUBDIR}/  \
      /pub/linux/slackware/${SUBDIR} \
      || exit 1
done
